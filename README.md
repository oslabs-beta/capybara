<div align='center'>

<p align="center" style="margin-bottom: 0;">
    <img src="client/public/header4.svg" alt="Coffybara Logo"/>
</p>

<h1 align="center" style="margin-top: 0;"><strong>AI-Powered Real-Time Event Detection & Kubernetes Observability</strong></h1>

[![Latest Release](https://img.shields.io/github/v/release/oslabs-beta/capybara?include_prereleases&style=for-the-badge&logo=github&color=blue)](https://github.com/oslabs-beta/capybara/releases/latest)
[![License](https://img.shields.io/github/license/oslabs-beta/capybara?style=for-the-badge&color=green)](LICENSE)
[![Build Status](https://img.shields.io/github/actions/workflow/status/oslabs-beta/capybara/ci.yml?style=for-the-badge&logo=github-actions)](https://github.com/oslabs-beta/capybara/actions)
[![Last Commit](https://img.shields.io/github/last-commit/oslabs-beta/capybara?style=for-the-badge&logo=git&color=orange)](https://github.com/oslabs-beta/capybara/commits/main)

</div><br><br><br>

<!-- Core Technologies -->

**Core Technologies**  
[![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?style=for-the-badge&logo=typescript&logoColor=white)](https://www.typescriptlang.org/)
[![Node.js](https://img.shields.io/badge/Node.js-339933?style=for-the-badge&logo=node.js&logoColor=white)](https://nodejs.org/)
[![React](https://img.shields.io/badge/React-20232A?style=for-the-badge&logo=react&logoColor=61DAFB)](https://reactjs.org/)
[![Express](https://img.shields.io/badge/Express-000000?style=for-the-badge&logo=express&logoColor=white)](https://expressjs.com/)
[![Vite](https://img.shields.io/badge/Vite-646CFF?style=for-the-badge&logo=vite&logoColor=white)](https://vitejs.dev/)

---

<!-- UI & Styling -->

**UI & Styling**  
[![Tailwind CSS](https://img.shields.io/badge/Tailwind%20CSS-06B6D4?style=for-the-badge&logo=tailwindcss&logoColor=white)](https://tailwindcss.com/)
[![shadcn/ui](https://img.shields.io/badge/shadcn%2Fui-000000?style=for-the-badge&logo=shadcnui&logoColor=white)](https://ui.shadcn.com/)
[![Chart.js](https://img.shields.io/badge/Chart.js-FF6384?style=for-the-badge&logo=chart.js&logoColor=white)](https://www.chartjs.org/)
[![DaisyUI](https://img.shields.io/badge/DaisyUI-FFC107?style=for-the-badge&logo=daisyui&logoColor=black)](https://daisyui.com/)

---

<!-- Infrastructure & Cloud -->

**Infrastructure & Cloud**  
[![Google Cloud](https://img.shields.io/badge/Google%20Cloud-4285F4?style=for-the-badge&logo=google-cloud&logoColor=white)](https://cloud.google.com/)
[![Kubernetes](https://img.shields.io/badge/Kubernetes-326CE5?style=for-the-badge&logo=kubernetes&logoColor=white)](https://kubernetes.io/)
[![Docker](https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=docker&logoColor=white)](https://www.docker.com/)
[![Redis](https://img.shields.io/badge/Redis-DC382D?style=for-the-badge&logo=redis&logoColor=white)](https://redis.io/)
[![Vercel](https://img.shields.io/badge/Vercel-000000?style=for-the-badge&logo=vercel&logoColor=white)](https://vercel.com/)

---

<!-- AI & Data -->

**AI & Data**  
[![Google Gemini](https://img.shields.io/badge/Google%20Gemini-8E75B2?style=for-the-badge&logo=googlegemini&logoColor=white)](https://gemini.google.com/)
[![Pinecone](https://img.shields.io/badge/Pinecone-000000?style=for-the-badge&logo=pinecone&logoColor=white)](https://www.pinecone.io/)

---

<!-- Real-time & Communication -->

**Real-time & Communication**  
[![Socket.io](https://img.shields.io/badge/Socket.io-010101?style=for-the-badge&logo=socket.io&logoColor=white)](https://socket.io/)
[![Slack](https://img.shields.io/badge/Slack-4A154B?style=for-the-badge&logo=slack&logoColor=white)](https://slack.com/)

---

<!-- Development Tools -->

**Development Tools**  
[![Vitest](https://img.shields.io/badge/Vitest-6E9F18?style=for-the-badge&logo=vitest&logoColor=white)](https://vitest.dev/)
[![Prettier](https://img.shields.io/badge/Prettier-F7B93E?style=for-the-badge&logo=prettier&logoColor=black)](https://prettier.io/)
[![GitHub Actions](https://img.shields.io/badge/GitHub%20Actions-2088FF?style=for-the-badge&logo=githubactions&logoColor=white)](https://github.com/features/actions)

---

<!-- Authentication -->

**Authentication**  
[![Clerk](https://img.shields.io/badge/Clerk-6C47FF?style=for-the-badge&logo=clerk&logoColor=white)](https://clerk.com/)
[![Google OAuth 2.0](https://img.shields.io/badge/Google%20OAuth%202.0-4285F4?style=for-the-badge&logo=google&logoColor=white)](https://developers.google.com/identity/protocols/oauth2)

<br><br><br>

# üöÄ What is Coffybara?

<!-- Project Status -->

[![Website](https://img.shields.io/badge/üåê-Website-blue?style=for-the-badge)](https://coffybara.com)
[![LinkedIn](https://img.shields.io/badge/LinkedIn-0077B5?style=for-the-badge&logo=linkedin&logoColor=white)](https://linkedin.com/company/coffybara)
[![Follow on X](https://img.shields.io/badge/Follow%20on%20X-000000?style=for-the-badge&logo=x&logoColor=white)](https://x.com/aicoffybara)

<!-- [![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg?style=for-the-badge)](https://opensource.org/licenses/MIT) -->

Coffybara is your friendly neighborhood capybara that never sleeps, keeping watch over your Kubernetes clusters 24/7. Like a capybara lounging peacefully by the water, Coffybara maintains zen like calmness while monitoring your infrastructure chaos.

**The Problem**: Kubernetes infrastructure often leads to unexpected downtime from sneaky anomalies like resource exhaustion and pod instability.

**The Solution**: Coffybara leverages advanced AI to predict and detect these anomalies in realtime, providing immediate, actionable insights directly to your development team through Slack and an intuitive dashboard.

<br>

## ‚ú® Features

### üß† **AI-Powered Anomaly Detection**

- **Semantic Analysis**: Uses Pinecone vector database and Gemini AI for intelligent event contextualization
- **Pattern Recognition**: Learns from historical data to identify subtle anomalies before they become critical
- **Smart Insights**: Provides actionable recommendations based on similar past events

### ‚ö° **Realtime Monitoring**

- **Live Event Streaming**: Kubernetes events streamed through Google Pub/Sub
- **Instant Notifications**: Realtime alerts via Socket.IO to dashboard and Slack
- **Zero Latency**: Immediate response to critical infrastructure events

### üéØ **Smart Filtering & Deduplication**

- **Rate Limiting**: Redis-powered intelligent event throttling
- **Deduplication**: Eliminates noise from repetitive events
- **Priority Scoring**: Focuses on events that actually matter

### üìä **Beautiful Dashboard**

- **Responsive Design**: Works seamlessly on desktop and mobile
- **Realtime Updates**: Live event feed with instant notifications
- **Historical Analytics**: Comprehensive event history and trend analysis
- **Dark/Light Mode**: Because we care about your eyes

### üîî **Multi-Channel Notifications**

- **Slack Integration**: Formatted alerts with context and recommendations
- **Dashboard Alerts**: Realtime notifications in the web interface
- **Severity Levels**: Color-coded alerts based on event criticality

<br>

## üèóÔ∏è Architecture

<p align="center">
    <img src="client/public/appArchitecture.png" alt="Coffybara App Architecture"/>
</p>

### **Tech Stack**

#### **Backend & Infrastructure**

- **Kubernetes** - Container orchestration
- **Google Kubernetes Engine (GKE)** - Managed Kubernetes
- **Google Cloud Monitoring** - Infrastructure monitoring
- **Google Pub/Sub** - Event streaming
- **Cloud Run** - Serverless container platform
- **Redis** - Caching and rate limiting
- **Google Secrets Manager** - Secure credential management

#### **AI & Data**

- **Pinecone** - Vector database for semantic search
- **Gemini AI API** - Intelligent event analysis
- **Vector Embeddings** - Semantic event similarity

#### **Frontend**

- **React 18** - Modern UI framework
- **TypeScript** - Typesafe development
- **Vite** - Lightning fast build tool
- **Tailwind CSS** - Utility first styling
- **ShadCN** - Beautiful component library
- **Socket.IO Client** - Realtime communication

#### **Backend API**

- **Node.js** - Runtime environment
- **Express** - Web framework
- **Socket.IO** - Realtime websockets
- **Axios** - HTTP client

#### **Authentication & Security**

- **Clerk** - OAuth 2.0 authentication
- **Google OAuth** - Secure user management

#### **DevOps & CI/CD**

- **GitHub Actions** - Automated workflows
- **Vercel** - Frontend deployment
- **Docker** - Containerization
- **Vitest** - Testing framework

<br>

## üöÄ Quick Start

### Prerequisites

- Node.js 18+
- Google Cloud Account with existing GKE cluster
- Google Cloud CLI (`gcloud`) installed and configured
- Slack workspace (for notifications)

### 1. Clone the Repository

```bash
git clone https://github.com/oslabs-beta/capybara.git
cd coffybara
```

### 2. Google Cloud Setup

Coffybara uses **Google Cloud Secrets Manager** to securely store all configuration. No local `.env` files needed!

**Enable required APIs:**

```bash
gcloud services enable secretmanager.googleapis.com
gcloud services enable pubsub.googleapis.com
gcloud services enable run.googleapis.com
gcloud services enable container.googleapis.com
```

**Create secrets in Google Cloud Secrets Manager:**

```bash
# Pinecone Configuration
gcloud secrets create pinecone-api-key --data-file=<(echo "your-pinecone-key")
gcloud secrets create pinecone-index-name --data-file=<(echo "your-index-name")

# Gemini AI
gcloud secrets create gemini-api-key --data-file=<(echo "your-gemini-key")

# Slack Integration
gcloud secrets create slack-bot-token --data-file=<(echo "your-slack-bot-token")
gcloud secrets create slack-channel --data-file=<(echo "your-channeltd")

# Redis (if using external Redis)
gcloud secrets create redis-url --data-file=<(echo "your-redis-url")

# Clerk Authentication
gcloud secrets create clerk-publishable-key --data-file=<(echo "your-clerk-key")
```

### 3. Connect to Your GKE Cluster

Coffybara automatically connects to your existing GKE clusters. Ensure your `gcloud` CLI is authenticated and has access to your clusters:

```bash
# Authenticate with Google Cloud
gcloud auth login

# Set your project
gcloud config set project YOUR_PROJECT_ID

# Get cluster credentials (if needed)
gcloud container clusters get-credentials YOUR_CLUSTER_NAME --region=YOUR_REGION
```

### 4. Start the Application

From the root directory, simply run:

```bash
npm start
```

This single command will:

- Install dependencies for root, client, and server
- Start both the client and server concurrently

**Alternative commands:**

```bash
# Start only the server
npm run server

# Start only the client
npm run client
```

### 5. Access the Application

- **Dashboard**: http://localhost:5173
- **API**: http://localhost:3001

<br>

## üîß Configuration

### GKE Cluster Connection

Coffybara automatically discovers and connects to your existing GKE clusters. The application will:

1. **Auto-detect** clusters in your Google Cloud project
2. **Stream events** from all accessible clusters via Google Pub/Sub
3. **Monitor** pod lifecycle, resource usage, and system events
4. **Analyze** events using AI and provide intelligent insights

**Required Permissions:**
Ensure your Google Cloud service account has these IAM roles:

- `Kubernetes Engine Viewer` (to access cluster information)
- `Pub/Sub Editor` (for event streaming)
- `Secret Manager Secret Accessor` (to read configuration secrets)

### Google Cloud Pub/Sub Setup

Create the required Pub/Sub infrastructure:

```bash
# Create Pub/Sub topic for Kubernetes events
gcloud pubsub topics create kubernetes-events

# Create subscription for event processing
gcloud pubsub subscriptions create kubernetes-events-sub --topic=kubernetes-events
```

### Slack Integration

1. Create a Slack app at https://api.slack.com/apps
2. Add the `chat:write` bot scope
3. Install the app to your workspace
4. Copy the Bot User OAuth Token to your `.env`

<br>

## üìä Usage

### Dashboard Features

**üî¥ Live Events**: Realtime stream of Kubernetes events  
**üìà Analytics**: Historical event trends and patterns  
**üéØ Filtered Views**: Focus on specific namespaces or event types  
**üîç Search**: Find specific events quickly  
**‚öôÔ∏è Settings**: Configure notification preferences

### Slack Notifications

Coffybara sends intelligent Slack notifications with:

- **Event Context**: Pod, namespace, and timing information
- **AI Analysis**: Root cause analysis and recommendations
- **Historical Context**: Similar past events for reference
- **Action Items**: Specific steps to resolve the issue

### API Endpoints

```typescript
// Get recent events
GET /api/events?limit=50&namespace=default

// Get event analytics
GET /api/analytics?timeRange=24h

// Health check
GET /api/health

// WebSocket connection
WS /socket.io
```

<br>

## üß™ Testing

```bash
# Run all tests
npm test

# Run tests in watch mode
npm run test:watch

# Run tests with coverage
npm run test:coverage
```

<br>

## üöÄ Deployment

### Production Deployment

1. **Build the application:**

```bash
npm run build
```

2. **Deploy to Cloud Run:**

```bash
gcloud run deploy coffybara-backend \
  --source=./server \
  --platform=managed \
  --region=us-central1 \
  --allow-unauthenticated
```

3. **Deploy frontend to Vercel:**

```bash
vercel --prod
```

### Environment Variables for Production

Ensure all production environment variables are set in your deployment platform.

<br>

## üë• Meet the Team

| Team Member      | LinkedIn                                                                                                                      | GitHub                                                                                                           |
| ---------------- | ----------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------- |
| **Wenjun Song**  | [![LinkedIn](https://img.shields.io/badge/-LinkedIn-0077B5?style=flat&logo=linkedin)](https://www.linkedin.com/in/wsong0630/) | [![GitHub](https://img.shields.io/badge/-GitHub-181717?style=flat&logo=github)](https://github.com/wsong0630)    |
| **Steven Yeung** | [![LinkedIn](https://img.shields.io/badge/-LinkedIn-0077B5?style=flat&logo=linkedin)](https://www.linkedin.com/in/syeungg/)   | [![GitHub](https://img.shields.io/badge/-GitHub-181717?style=flat&logo=github)](https://github.com/stevenyeungg) |
| **Amit Haror**   | [![LinkedIn](https://img.shields.io/badge/-LinkedIn-0077B5?style=flat&logo=linkedin)](https://www.linkedin.com/in/amitharor/) | [![GitHub](https://img.shields.io/badge/-GitHub-181717?style=flat&logo=github)](https://github.com/user0824)     |

<br>

## üõ£Ô∏è Roadmap

### **Next Phase**

- [ ] **Better Documentation** - Comprehensive setup guides and API documentation
- [ ] **Custom Notifications** - Alternative notification channel for critical alerts
- [ ] **Historical Analytics** - Enhanced data visualization and trend analysis
- [ ] **Custom Alert Rules** - User defined notification triggers and thresholds

### **Future Phase**

- [ ] **Multi Cluster Support** - Monitor multiple Kubernetes clusters from one dashboard
- [ ] **Resource Usage Insights** - AI powered recommendations for cluster optimization
- [ ] **Team Collaboration Features** - Comments, incident assignments, and shared workspaces

<br>

## ü§ù Contributing

We welcome contributions! Please see our [Contributing Guide](CONTRIBUTING.md) for details.

1. Fork the repository
2. Create a feature branch: `git checkout -b feature/amazing-feature`
3. Commit your changes: `git commit -m 'Add amazing feature'`
4. Push to the branch: `git push origin feature/amazing-feature`
5. Open a Pull Request

<br>

## üìã Documentation

For developers and maintainers:

- **[üìã Release Process](RELEASE_PROCESS.md)** - Step-by-step guide for creating new releases
- **[üìù Changelog](CHANGELOG.md)** - Version history and release notes
- **[ü§ù Contributing Guide](CONTRIBUTING.md)** - How to contribute to the project

<br>

## üìù License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

<br>

## üôè Acknowledgments

- **Capybaras** for being the most chill animals and inspiring our mascot
- **Google Cloud** for providing robust infrastructure
- **The Kubernetes Community** for amazing orchestration tools
- **Google** for powerful AI capabilities

<br>

## üêû Issues & Support

Found a bug? Have a feature request? We'd love to hear from you!

- **Issues**: [GitHub Issues](https://github.com/oslabs-beta/capybara/issues)
- **Discussions**: [GitHub Discussions](https://github.com/oslabs-beta/capybara/discussions)

<br><br>

<div align="center">

_Keep your clusters happy, keep your capybaras caffeinated!_

</div>
